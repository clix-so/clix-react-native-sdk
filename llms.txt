<!-- repo: clix-so/clix-react-native-sdk -->
<!-- ref: main -->
<!-- commit: 7331ab10b276b1dec2d30891e0294caad9736c3c -->
<!-- generated_at: 2025-12-03T04:32:03Z -->
# Platform: React Native

## /
- [Readme](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/README.md): Developer-facing README detailing installation, peer dependencies, React Native/Firebase setup, Clix initialization (`Clix.initialize`), user management APIs, notification handling via `NotificationService.
- [Changelog](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/CHANGELOG.md): CHANGELOG lists versioned release notes (v1.0.
- [License](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/LICENSE): Defines the SDK’s modified MIT license, granting standard use/modify/distribute rights but legally restricting all substantial use to Clix services and disallowing repurposing for unrelated platforms without explicit permission.
- [Package](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/package.json): Package manifest for @clix-so/react-native-sdk: defines exports (src/index.ts → lib/module/index.
- [Tsconfig](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/tsconfig.json): TypeScript configuration for the React Native SDK, defining strict compiler options, ESNext/bundler module settings, JSX handling, path aliasing for `@clix-so/react-native-sdk` to `src/index`, and ensuring type-check-only builds with `noEmit`.
- [Tsconfig.build](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/tsconfig.build.json): TypeScript build configuration that extends the base `tsconfig`, excluding `samples` and compiled `lib` output from the build to control which source files are processed and emitted.
- [Babel.config](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/babel.config.js): Configures Babel to use `react-native-builder-bob` presets for the SDK source and `@react-native/babel-preset` for `node_modules`, ensuring correct transpilation behavior for library code versus external dependencies.

## samples/BasicApp
- [React Native.config](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/samples/BasicApp/react-native.config.js): React Native configuration for the BasicApp sample that enables automatic CocoaPods installation, maps the SDK dependency to the repository root (pkg.name), and explicitly sets iOS as a platform (empty object) while disabling Android to avoid codegen failures.
- [Index](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/samples/BasicApp/index.js): Entrypoint that imports Clix from @clix-so/react-native-sdk and initializes the SDK with projectId/apiKey, then registers the root React Native component via AppRegistry.registerComponent using appName and.
- [Metro.config](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/samples/BasicApp/metro.config.js): Metro config merging defaults that sets projectRoot/watchFolders to the repo root, maps peerDependencies from the sample's package.json into extraNodeModules, blocks duplicate modules under the root node_modules, and enables inlineRequires transformer.
- [Babel.config](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/samples/BasicApp/babel.config.js): Exports the sample app's Babel configuration by calling react-native-builder-bob's getConfig with module:@react-native/babel-preset, passing the repo root and package.json to enable monorepo-aware transforms and consistent React Native compilation.

## samples/BasicApp/android/app/src/main/kotlin/so/clix/samples/basic
- [Mainactivity](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/samples/BasicApp/android/app/src/main/kotlin/so/clix/samples/basic/MainActivity.kt): Android MainActivity that bootstraps the React Native host for the sample app by extending ReactActivity, exposing the main JS component "ClixSample" and instantiating DefaultReactActivityDelegate wired to fabricEnabled (New Architecture Fabric toggle).
- [Mainapplication](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/samples/BasicApp/android/app/src/main/kotlin/so/clix/samples/basic/MainApplication.kt): MainApplication.kt configures the app's ReactNativeHost and ReactHost (using DefaultReactNativeHost and getDefaultReactHost), supplies PackageList-based packages, JS main module "index", dev/Hermes/new-arch flags from BuildConfig, and initializes SoLoader plus new-architecture entry on onCreate.

## samples/BasicApp/ios/ClixSample
- [Main](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/samples/BasicApp/ios/ClixSample/main.m): Defines the iOS app entry point: imports UIKit and AppDelegate, wraps UIApplicationMain call in an autorelease pool to instantiate UIApplication and launch the app using AppDelegate as principal delegate, starting the app lifecycle and run loop.
- [Appdelegate](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/samples/BasicApp/ios/ClixSample/AppDelegate.mm): iOS AppDelegate that initializes Firebase, creates an RCTBridge/RCTRootView for the "ClixSample" React Native module, configures window/rootViewController and background color, and implements sourceURLForBridge to load dev bundler or main.jsbundle.

## samples/BasicApp/src
- [App](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/samples/BasicApp/src/App.tsx): Sample React Native App component that initializes Clix.Notification (auto-requesting permission), retrieves deviceId/push token (with retry), and exposes UI handlers to call Clix.
- [Clixinfo](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/samples/BasicApp/src/ClixInfo.ts): Provides a sample ClixInfo class exposing hard-coded static readonly projectId and apiKey constants (ClixInfo.projectId, ClixInfo.

## src
- [Index](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/index.ts): Package entry point that re-exports the default Clix SDK class from./core/Clix and the ClixLogLevel enum from.

## src/core
- [Clixnotification](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/core/ClixNotification.ts): Singleton wrapper that waits for Clix.initCoordinator, delegates to Clix.
- [Clixinitcoordinator](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/core/ClixInitCoordinator.ts): ClixInitCoordinator manages SDK async initialization via an internal Promise and completion/failure flags, exposing waitForInitialization(), completeInitialization(), failInitialization(error), reset(), and status queries; it resolves/rejects the promise and logs warnings via ClixLogger.
- [Clix](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/core/Clix.ts): Central singleton SDK entry that initializes and manages StorageService, DeviceService, EventService, and API clients, persists config, coordinates initialization via ClixInitCoordinator, attempts async NotificationService init, and exposes static APIs like initialize, setUserId, trackEvent, getDeviceId.
- [Clixconfig](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/core/ClixConfig.ts): Defines the ClixConfig interface used to initialize the SDK, requiring projectId and apiKey and optionally endpoint, logLevel (ClixLogLevel) and extraHeaders, consumed by initialization to configure network endpoint and logging.
- [Clixversion](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/core/ClixVersion.ts): Static ClixVersion exposes getVersion(): Promise<string>, which reads and caches package.json's version via require('.

## src/models
- [Clixuserproperty](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/models/ClixUserProperty.ts): Defines PropertyType enum and ClixUserProperty model with a constructor plus static of(name, value) that infers type (String/Number/Boolean), stores codable value in valueString, and exposes equals and toString methods; no external dependencies or side effects.
- [Clixpushnotificationpayload](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/models/ClixPushNotificationPayload.ts): Defines ClixPushNotificationPayload model encapsulating push notification metadata (required messageId; optional campaignId, userId, deviceId, trackingId, landingUrl, imageUrl, customProperties) with constructor, equals (compares messageId) and toString helpers.
- [Clixdevice](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/models/ClixDevice.ts): ClixDevice model encapsulating device/app metadata (id, platform, model, manufacturer, OS, locale, timezone, app/sdk versions, adId, push permissions/token/type), immutable via readonly fields with constructor, copyWith() to clone/modify, equals() by id, toString().

## src/services
- [Notificationservice](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/services/NotificationService.ts): Singleton NotificationService integrating @react-native-firebase/messaging and @notifee/react-native, dependent on EventService/StorageService/DeviceService/TokenService; initializes channels/listeners, handles foreground/background messages and taps (parsing Clix payloads, dedupe, display), token registration, event tracking and URL navigation; public APIs: initialize, getCurrentToken, cleanup and setters.
- [Deviceservice](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/services/DeviceService.ts): DeviceService manages local device identity and metadata, persisting deviceId via StorageService, collecting DeviceInfo/ClixVersion and push-permission/token status, saving tokens to TokenService, calling DeviceAPIService to register/upsert/remove project user IDs and properties, and gracefully handling crypto polyfill token errors.
- [Tokenservice](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/services/TokenService.ts): Manages storage of current and recent push tokens via StorageService (getCurrentToken, getPreviousTokens, saveToken, clearTokens, reset), deduplicating/truncating to 5 entries, converting deviceToken arrays to hex strings, and logging via ClixLogger.
- [Storageservice](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/services/StorageService.ts): StorageService wraps react-native-mmkv (v2/v3/v4), providing multi-process, App Group path-aware MMKV initialization (per-project id), JSON-encoded set/get with legacy string migration, remove/clear/getAllKeys utilities, and resilient error logging via ClixLogger.
- [Eventapiservice](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/services/EventAPIService.ts): EventAPIService sends event payloads to /events via ClixAPIClient.post, conditionally includes message/user-journey IDs and custom_properties, logs via ClixLogger, enforces 2xx responses and rethrows errors; public API: async trackEvent(deviceId, name, properties, messageId?
- [Deviceapiservice](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/services/DeviceAPIService.ts): DeviceAPIService wraps ClixAPIClient and ClixLogger to perform network upserts/deletes for devices and user metadata, exposing registerDevice, setProjectUserId, removeProjectUserId, upsertUserProperties, and removeUserProperties, serializing models to request bodies and enforcing 2xx responses.
- [Clixapiclient](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/services/ClixAPIClient.ts): ClixAPIClient provides get/post/put/delete HTTP methods that build /api/v1 URLs from ClixConfig.endpoint, attach project/API-key/User-Agent and extra headers (via ClixVersion), serialize JSON bodies/query params, parse JSON/text responses, log via ClixLogger using fetch, and return status/data/headers.
- [Eventservice](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/services/EventService.ts): EventService formats event properties (converts Date via ClixDateFormatter), resolves deviceId via DeviceService, delegates to EventAPIService.trackEvent (network call) while logging via ClixLogger, exposes async trackEvent(.

## src/utils
- [Clixdateformatter](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/utils/ClixDateFormatter.ts): Exports ClixDateFormatter.format (static) which converts a Date to a local ISO-like timestamp YYYY-MM-DDTHH:MM:SS±HH:MM, zero-padding components and computing timezone via getTimezoneOffset; pure utility with no external dependencies.
- [Uuid](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/utils/UUID.ts): Provides static UUID.generate() returning a UUID v4 (using react-native-get-random-values uuid), logs via ClixLogger.
- [Clixerror](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/utils/ClixError.ts): Defines ClixErrorCode enum and ClixError class (extends Error) providing standardized error codes/messages, optional cause support, name 'ClixError', and static factory methods (notInitialized, invalidConfiguration, invalidURL, invalidResponse, encodingError, decodingError, networkError, unknownError), with unknownError appending an optional reason to the message for SDK...

## src/utils/logging
- [Clixlogger](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/utils/logging/ClixLogger.ts): Provides a simple, dependency-free logging utility (ClixLogger) with ClixLogLevel enum, level filtering via setLogLevel/shouldLog, timestamped console output (console.debug/info/warn/error), and convenience methods error/warn/info/debug accepting an optional error.

## ios
- [Clixappgroupdirectory](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/ios/ClixAppGroupDirectory.m): React Native Objective-C module (RCT_EXPORT_MODULE) that resolves and caches the app bundle ID, constructs the "group.clix.

## samples/BasicApp/ios/ClixNotificationExtension
- [Notificationservice](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/samples/BasicApp/ios/ClixNotificationExtension/NotificationService.swift): iOS NotificationService sample subclassing ClixNotificationServiceExtension (depends on Clix and UserNotifications) registering a projectId and delegating UNNotificationRequest handling, image downloading, push-received events, and timeout cleanup via overrides of didReceive(_:withContentHandler:) and serviceExtensionTimeWillExpire().

## src/native
- [Getappgroupdirectory](https://raw.githubusercontent.com/clix-so/clix-react-native-sdk/main/src/native/getAppGroupDirectory.ts): Exports getAppGroupDirectory(), which on iOS resolves the native 'ClixAppGroupDirectory' via react-native NativeModules, invokes getAppGroupDirectory() to return a non-empty path string (or undefined), and logs debug/warn via ClixLogger on failure.
