{"version":3,"names":["messaging","DeviceInfo","ClixVersion","ClixDevice","ClixUserProperty","ClixLogger","UUID","DeviceService","deviceIdKey","constructor","storageService","tokenService","deviceAPIService","initialize","currentDevice","createDevice","upsertDevice","generateDeviceId","generate","getCurrentDeviceId","existingId","get","newDeviceId","set","debug","deviceId","platform","getSystemName","osName","osVersion","getSystemVersion","manufacturer","getManufacturer","model","getModel","appName","getApplicationName","appVersion","getVersion","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","locale","localeLanguage","split","localeRegion","adId","undefined","isPushPermissionGranted","getPushPermissionStatus","sdkType","sdkVersion","pushToken","getPushToken","pushTokenType","device","id","updatePushToken","warn","newDevice","copyWith","updatePushPermission","isGranted","setProjectUserId","projectUserId","removeProjectUserId","updateUserProperties","properties","userProperties","Object","entries","map","key","value","of","upsertUserProperties","removeUserProperties","names","authStatus","hasPermission","AuthorizationStatus","AUTHORIZED","PROVISIONAL","error","token","getToken","saveToken"],"sourceRoot":"../../../src","sources":["services/DeviceService.ts"],"mappings":"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","ignoreList":[]}
